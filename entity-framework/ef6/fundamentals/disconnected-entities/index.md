---
title: 'Arbeiten mit getrennten Entitäten: EF6'
description: Arbeiten mit getrennten Entitäten in Entity Framework 6
author: ajcvickers
ms.date: 10/23/2016
uid: ef6/fundamentals/disconnected-entities/index
ms.openlocfilehash: 235609a20ff5a0ec50743a61c8aabeb2d46103b9
ms.sourcegitcommit: 0a25c03fa65ae6e0e0e3f66bac48d59eceb96a5a
ms.translationtype: HT
ms.contentlocale: de-DE
ms.lasthandoff: 10/14/2020
ms.locfileid: "92065536"
---
# <a name="working-with-disconnected-entities"></a><span data-ttu-id="3a62c-103">Arbeiten mit getrennten Entitäten</span><span class="sxs-lookup"><span data-stu-id="3a62c-103">Working with disconnected entities</span></span>

<span data-ttu-id="3a62c-104">In einer Anwendung, die auf Entity Framework basiert, ist eine Kontextklasse für das Erfassen von Änderungen zuständig, die an nachverfolgten Entitäten vorgenommen werden.</span><span class="sxs-lookup"><span data-stu-id="3a62c-104">In an Entity Framework-based application, a context class is responsible for detecting changes applied to tracked entities.</span></span> <span data-ttu-id="3a62c-105">Durch Aufruf der SaveChanges-Methode werden vom Kontext nachverfolgte Änderungen in der Datenbank gespeichert.</span><span class="sxs-lookup"><span data-stu-id="3a62c-105">Calling the SaveChanges method persists the changes tracked by the context to the database.</span></span> <span data-ttu-id="3a62c-106">Bei der Arbeit mit n-schichtigen Anwendungen werden Entitätsobjekte normalerweise modifiziert, wenn keine Verbindung zum Kontext besteht. Sie müssen dann entscheiden, wie Änderungen nachverfolgt und an den Kontext zurückgemeldet werden.</span><span class="sxs-lookup"><span data-stu-id="3a62c-106">When working with n-tier applications, entity objects are usually modified while disconnected from the context, and you must decide how to track changes and report those changes back to the context.</span></span> <span data-ttu-id="3a62c-107">In diesem Artikel wird beschrieben, welche Möglichkeiten Sie haben, wenn Sie Entity Framework mit getrennten Entitäten verwenden.</span><span class="sxs-lookup"><span data-stu-id="3a62c-107">This topic discusses different options that are available when using Entity Framework with disconnected entities.</span></span>

## <a name="web-service-frameworks"></a><span data-ttu-id="3a62c-108">Webdienstframeworks</span><span class="sxs-lookup"><span data-stu-id="3a62c-108">Web service frameworks</span></span>

<span data-ttu-id="3a62c-109">Webdiensttechnologien unterstützen normalerweise Muster, mit denen Sie Änderungen an einzelnen getrennten Objekten übernehmen können.</span><span class="sxs-lookup"><span data-stu-id="3a62c-109">Web services technologies typically support patterns that can be used to persist changes on individual disconnected objects.</span></span> <span data-ttu-id="3a62c-110">Mit der ASP.NET-Web-API können Sie z.B. Controlleraktionen (wie etwa Aufrufe an EF zum Übernehmen von Änderungen an Objekten in einer Datenbank) codieren.</span><span class="sxs-lookup"><span data-stu-id="3a62c-110">For example, ASP.NET Web API allows you to code controller actions that can include calls to EF to persist changes made to an object on a database.</span></span> <span data-ttu-id="3a62c-111">Mit den Tools der Web-API in Visual Studio können Sie leicht einen Web-API-Controller über das Entity Framework 6-Modell entwerfen.</span><span class="sxs-lookup"><span data-stu-id="3a62c-111">In fact, the Web API tooling in Visual Studio makes it easy to scaffold a Web API controller from your Entity Framework 6 model.</span></span> <span data-ttu-id="3a62c-112">Weitere Informationen finden Sie unter [Using Web API 2 with Entity Framework 6 (Verwenden der Web-API mit Entity Framework 6)](/aspnet/web-api/overview/data/using-web-api-with-entity-framework/).</span><span class="sxs-lookup"><span data-stu-id="3a62c-112">For more information, see [using Web API with Entity Framework 6](/aspnet/web-api/overview/data/using-web-api-with-entity-framework/).</span></span>

<span data-ttu-id="3a62c-113">Es gab schon immer mehrere andere Webdiensttechnologien, die eine Integration in Entity Framework ermöglicht haben, wie z.B. [WCF Data Services](/dotnet/framework/data/wcf/create-a-data-service-using-an-adonet-ef-data-wcf) und [RIA Services](/previous-versions/dotnet/wcf-ria/ee707344(v=vs.91)).</span><span class="sxs-lookup"><span data-stu-id="3a62c-113">Historically, there have been several other Web services technologies that offered integration with Entity Framework, like [WCF Data Services](/dotnet/framework/data/wcf/create-a-data-service-using-an-adonet-ef-data-wcf) and [RIA Services](/previous-versions/dotnet/wcf-ria/ee707344(v=vs.91)).</span></span>

## <a name="low-level-ef-apis"></a><span data-ttu-id="3a62c-114">EF-APIs auf niedriger Ebene</span><span class="sxs-lookup"><span data-stu-id="3a62c-114">Low-level EF APIs</span></span>

<span data-ttu-id="3a62c-115">Wenn Sie keine bereits vorhandene n-schichtige Lösung verwenden möchten oder wenn Sie Controlleraktionen in einem Web-API-Dienst anpassen möchten, stellt Entity Framework auch APIs bereit, mit denen Sie Änderungen übernehmen können, die an einer getrennten Schicht vorgenommen wurden.</span><span class="sxs-lookup"><span data-stu-id="3a62c-115">If you don't want to use an existing n-tier solution, or if you want to customize what happens inside a controller action in a Web API services, Entity Framework provides APIs that allow you to apply changes made on a disconnected tier.</span></span> <span data-ttu-id="3a62c-116">Weitere Informationen finden Sie im Artikel zum [Hinzufügen, Anhängen und zu Entitätszuständen](xref:ef6/saving/change-tracking/entity-state).</span><span class="sxs-lookup"><span data-stu-id="3a62c-116">For more information, see [Add, Attach, and entity state](xref:ef6/saving/change-tracking/entity-state).</span></span>  

## <a name="self-tracking-entities"></a><span data-ttu-id="3a62c-117">Entitäten mit Selbstnachverfolgung</span><span class="sxs-lookup"><span data-stu-id="3a62c-117">Self-Tracking Entities</span></span>  

<span data-ttu-id="3a62c-118">Das Nachverfolgen von Änderungen an beliebigen Entitätsdiagrammen, die vom EF-Kontext getrennt sind, ist ein schwierig zu lösendes Problem.</span><span class="sxs-lookup"><span data-stu-id="3a62c-118">Tracking changes on arbitrary graphs of entities while disconnected from the EF context is a hard problem.</span></span> <span data-ttu-id="3a62c-119">Eine Möglichkeit zur Lösung ist die Codegenerierungsvorlage für Entitäten mit Selbstnachverfolgung.</span><span class="sxs-lookup"><span data-stu-id="3a62c-119">One of the attempts to solve it was the Self-Tracking Entities code generation template.</span></span> <span data-ttu-id="3a62c-120">Diese Vorlage generiert Entitätsklassen, die Logik zum Nachverfolgen von an getrennten Schichten vorgenommenen Änderungen als Zustände in den Entitäten selbst enthält.</span><span class="sxs-lookup"><span data-stu-id="3a62c-120">This template generates entity classes that contain logic to track changes made on a disconnected tier as state in the entities themselves.</span></span> <span data-ttu-id="3a62c-121">Außerdem werden mehrere Erweiterungsmethoden generiert, die diese Änderungen auf einen Kontext anwenden.</span><span class="sxs-lookup"><span data-stu-id="3a62c-121">A set of extension methods is also generated to apply those changes to a context.</span></span>

<span data-ttu-id="3a62c-122">Diese Vorlage kann nur mit Modellen verwendet werden, die mit dem EF-Designer erstellt wurden, und nicht mit Code First-Modellen.</span><span class="sxs-lookup"><span data-stu-id="3a62c-122">This template can be used with models created using the EF Designer, but can not be used with Code First models.</span></span> <span data-ttu-id="3a62c-123">Weitere Informationen finden Sie unter [Self-Tracking Entities (Entitäten mit Selbstnachverfolgung)](xref:ef6/fundamentals/disconnected-entities/self-tracking-entities/index).</span><span class="sxs-lookup"><span data-stu-id="3a62c-123">For more information, see [Self-Tracking Entities](xref:ef6/fundamentals/disconnected-entities/self-tracking-entities/index).</span></span>  

> [!IMPORTANT]
> <span data-ttu-id="3a62c-124">Es wird nicht mehr empfohlen, die Vorlage für Entitäten mit Selbstnachverfolgung zu verwenden.</span><span class="sxs-lookup"><span data-stu-id="3a62c-124">We no longer recommend using the self-tracking-entities template.</span></span> <span data-ttu-id="3a62c-125">Die Vorlage ist nur für die Unterstützung vorhandener Anwendungen weiterhin verfügbar.</span><span class="sxs-lookup"><span data-stu-id="3a62c-125">It will only continue to be available to support existing applications.</span></span> <span data-ttu-id="3a62c-126">Wenn für Ihre Anwendung die Arbeit mit getrennten Diagrammen von Entitäten erforderlich ist, sollten Sie daher Alternativen erwägen, wie z.B. [nachverfolgbare Entitäten](https://trackableentities.github.io/). Diese Technologie ähnelt den Entitäten mit Selbstnachverfolgung und wird von der Community aktiver entwickelt. Alternativ dazu können Sie auch benutzerdefinierten Code mithilfe von APIs auf niedriger Ebene zur Änderungsnachverfolgung schreiben.</span><span class="sxs-lookup"><span data-stu-id="3a62c-126">If your application requires working with disconnected graphs of entities, consider other alternatives such as [Trackable Entities](https://trackableentities.github.io/), which is a technology similar to Self-Tracking-Entities that is more actively developed by the community, or writing custom code using the low-level change tracking APIs.</span></span>
